import{a as x,b as m,c as O,d as _,e as z,f as X,g as w,h as $,i as P}from"./chunk-2YGQYII2.js";import{a as S,b as A,c as N,d as D,e as C,f as B,g as M,h as U,i as V,j,l as k,m as L}from"./chunk-KLLSPD2E.js";import{a as u}from"./chunk-DYCPFO4Y.js";var n={"toast-container":"e","toast-holder":"s","toast-card":"o","toast-card-close-button-hover":"n","toast-close-button":"a","toast-text-container":"r","toast-icon-container":"l","toast-icon":"i","toast-close-button-text":"c","toast-close-button-top-right":"d","toast-close-button-top-left":"f","toast-close-button-inline":"p","toast-close-button-inline-top":"m"};var K={"not important":"off",important:"polite",critical:"assertive"};function Q(o){if(document.getElementById("toast-holder"))return;let a=O;O||(a=m("section"));let t=m("div");t.classList.add(n["toast-holder"]),t.id="toast-holder",t.setAttribute("data-max-toasts",o?.max_toasts_visible?.toString()||3 .toString()),t.setAttribute("data-testid","toast-holder"),a.title="Notifications",o?.stacked&&(a.setAttribute("aria-label","Notifications"),t.setAttribute("data-stacked",o?.stacked+"")),o?.hide_overflow_toast&&t.setAttribute("data-hide-overflow-toast","true"),o?.container_offset!=null&&(a.style.width=`calc(100% - ${o.container_offset}px)`,a.style.height=`calc(100% - ${o.container_offset}px)`),a.classList.add(n["toast-container"]),a.append(t),O||document.body.append(a)}u(Q,"initialize_toast");function b(o,{animation:a=B,close_button:t=!0,toast_position:l=D,toast_id:i=void 0,custom_icon:y=void 0,importance:q="not important",icon_position:F=N,animation_duration:E={in:400,out:400},shadow_size:R=U,automatically_close:G=!0,dir:W="ltr",colors:I=C,duration:H=3e3}={animation:B,close_button:!0,toast_position:D,toast_id:void 0,custom_icon:void 0,animation_duration:{in:400,out:400},icon_position:N,importance:"not important",shadow_size:void 0,automatically_close:!0,dir:"ltr",colors:C,duration:3e3},d="neutral"){let h=x("#toast-holder");if(!h){let s=new Error("Toast container has not been mounted yet. Try calling initialize_toast() first.");throw alert(s),console.error(s),s}if(d=="loading"&&t==!0)throw alert("A loading toast should not be manually closed."),console.error(new Error("A loading toast should not be manually closed.")),new Error("A loading toast should not be manually closed.");if(!h.classList.contains("toast-"+l))for(let s of j)h.classList.remove("toast-"+s);i||(i=X()),h.classList.add("toast-"+l);let{title:Y,message:Z}=o,e=m("div"),T=m("div"),v=m("p"),f,g,r;if(Y&&(f=m("div"),f.setAttribute("aria-label","The title of toast #"+i),f.id="toast-"+i+"-title",f.textContent=Y),y||d!="neutral")if(g=m("div"),g.classList.add(n["toast-icon-container"]),y)P(g,y),typeof y!="string"&&y.classList.add(n["toast-icon"]);else{let s=w(d);s.classList.add(n["toast-icon"]),g?.append(s)}if(e.id=i,e.classList.add(n["toast-card"]),e.setAttribute("data-vanilla-toast","true"),z(e,d),e.setAttribute("aria-atomic","true"),e.setAttribute("data-type",d),e.setAttribute("aria-live",K[q]),e.setAttribute("data-color-type",I),e.setAttribute("dir",W),R&&import("./consts-O4MBLB2K.js").then(s=>{e.style.setProperty("--toast-box-shadow",s.BOX_SHADOW_SIZES[R||U])}),_.matches||(e.setAttribute("data-exit-animation-duration",E?.out?.toString()),e.style.setProperty("--toast-animation-duration",E?.in+"ms")),e.style.setProperty("--toast-animation",a),(I=="icon"||I=="icon-stroke")&&import("./icon.module-XIRHFTS7.js").then(s=>{let c="toast-card";e.classList.add(s.default[c])}),T.classList.add(n["toast-text-container"]),v.id="toast-"+i+"-message",v.textContent=Z,v.setAttribute("aria-label","The message of toast #"+i),f&&T.append(f),e.setAttribute("aria-labelledby",f?f.id:v.id),T.append(v),d!="loading"&&t){let s;if(r=m("button"),typeof t!="boolean"){if(t?.appearance=="visible-on-hover"&&e.classList.add(n["toast-card-close-button-hover"]),t.custom_button?.on_click?s=u(function(){typeof t!="boolean"&&t?.custom_button?.on_click&&t?.custom_button?.on_click(i),p.dismiss(i)},"handle_close_button_click"):s=u(function(){p.dismiss(i)},"handle_close_button_click"),r.classList.add(n["toast-close-button-"+(t?.position||M)]),t.type=="text")r.classList.add(n["toast-close-button-text"]),r.style.setProperty("--toast-close-button-border-radius","0.25rem"),r.textContent=t?.text||"close";else if(t?.type=="icon")if(t.custom_icon)P(r,t?.custom_icon);else{let c=w("close");c.classList.add(n["toast-icon"]),r?.append(c)}else{let c=w("close");c.classList.add(n["toast-icon"]),r?.append(c)}t?.custom_button?.className&&(r.className+=" "+t.custom_button.className)}else{s=u(function(){p.dismiss(i)},"handle_close_button_click");let c=w("close");c.classList.add(n["toast-icon"]),r?.append(c),r.classList.add(n["toast-close-button-"+M])}if(typeof t!="boolean"&&t.position=="inline-top"&&r.classList.add("toast-close-button-inline-top"),r.setAttribute("aria-label","Close toast #"+i),r.classList.add(n["toast-close-button"]),r.setAttribute("type","button"),r.setAttribute("aria-controls",i),r.tabIndex=-1,s){let c=new AbortController;L.set(i,c),r.addEventListener("click",s,{signal:c.signal,once:!0})}else console.error("Function to invoke for a close button does not exist!")}if(d!="neutral"&&F=="left"?e.append(g):d!="loading"&&(typeof t!="boolean"&&(t?.position=="inline"||t?.position=="inline-top")||t)&&e.append(r),e.append(T),d!="neutral"&&F=="right"?(e.append(g),T.style.textAlign="right"):d!="loading"&&(typeof t!="boolean"&&(t?.position=="inline"||t?.position=="inline-top")||t)&&e.append(r),(l=="bottom-center"||l=="bottom-left"||l=="bottom-right")&&(h.style.flexDirection="column"),h.append(e),h.getAttribute("data-hide-overflow-toasts")=="true"&&import("./hide-toast-I7AXDHL7.js").then(s=>{s.hide_old_toasts()}),d!="loading"&&G==!0){let s=setTimeout(()=>{p.dismiss(i)},_.matches?H:H-E?.out);k.set(i,s)}return{toast_id:i}}u(b,"show_toast");var p=u(function(o,a,t){return b(o,a,t)},"toast");p.success=function(o,a){return b(o,a,"success")};p.error=function(o,a){return b(o,a,"error")};p.warn=function(o,a){return b(o,a,"warn")};p.info=function(o,a){return b(o,a,"info")};p.loading=function(o,a){return b(o,a,"loading")};p.dismiss=function(o){let a=_.matches,t=x("#toast-holder"),l=x(`#${CSS.escape(o)}`);t||console.error("Toast container does not exist!"),l||console.error("Toast does not exist!"),L.get(o)?.abort(),L.delete(o),clearTimeout(k.get(o)),k.delete(o),l.getAttribute("aria-hidden")=="true"||a?t.removeChild(l):(l.style.setProperty("--toast-animation-direction","reverse"),l.style.setProperty("--toast-animation-fill-mode","forwards"),$(l),setTimeout(()=>{t.removeChild(l)},+l.getAttribute("data-exit-animation-duration")))};export{Q as initialize_toast,p as toast};
//# sourceMappingURL=index.js.map
