var R=Object.defineProperty;var o=(a,t)=>R(a,"name",{value:t,configurable:!0});var W=document.querySelector.bind(document),Z=document.querySelectorAll.bind(document),s=document.getElementById.bind(document),A=document.createElement.bind(document),b=document.createElementNS.bind(document),tt=document.createAttribute.bind(document),et=document.createAttributeNS.bind(document);var v={x:"right",y:"top"},f={loading_icon:"eclipse",dir:B(),role:"status",importance:"important",lifetime:5e3,animation_duration:300,automatically_close:!0,close_button:{is_shown_on_hover:!0,position:"right"},theme:"system",style:"glass"},D=window.matchMedia("(prefers-reduced-motion)");function B(){let a=document.documentElement.getAttribute("dir");return a=="ltr"||a=="rtl"?a:a=="auto"||!a?window.getComputedStyle(document.documentElement).direction:"ltr"}o(B,"get_dir");function $(a,t){return t?((!t.lifetime||t.lifetime<=0)&&(t.lifetime=f.lifetime),t.loading_icon||(t.loading_icon="eclipse"),D.matches?t.animation_duration=0:t.animation_duration!=0&&!t.animation_duration&&(t.animation_duration=f.animation_duration),t.importance||(a=="error"||a=="loading"||a=="success"||a=="warn"?t.importance="critical":t.importance="important"),t.role||(a=="error"||a=="loading"||a=="success"||a=="warn"?t.role="alert":t.role="status"),t.automatically_close==null&&a!="loading"&&(t.automatically_close=!0),t.close_button?t.close_button.is_shown_on_hover==null?t.close_button.is_shown_on_hover=f.close_button.is_shown_on_hover:t.close_button.position==null?t.close_button.position=f.close_button.position:t.close_button.position!="left"&&t.close_button.position!="right"&&(t.close_button.position="right"):t.close_button=f.close_button,(!t.theme||t.theme!="dark"&&t.theme!="light"&&t.theme!="system")&&(t.theme=f.theme),(!t.dir||t.dir!="ltr"&&t.dir!="rtl")&&(t.dir=f.dir),(!t.style||t.style!="glass"&&t.style!="icons"&&t.style!="monochrome"&&t.style!="plain")&&(t.style=f.style),t):f}o($,"get_default");var q={"&":"amp","<":"lt",">":"gt",'"':"quot","'":"#39","/":"#x2F"};function w(a,t){return a!=null&&a!=null?a:t}o(w,"non_nullish");var j=o(a=>String(a).replace(/[&<>"'/\\]/g,t=>`&${q[t]};`),"escapeHtml");function u(a,t){let e=A(a);for(let[i,r]of Object.entries(w(t,{})))if(i=="style")for(let[n,c]of Object.entries(r))e.style.setProperty(n,c);else i=="textContent"?e.appendChild(document.createTextNode(r.toString())):r==!0?e.setAttribute(i,"true"):r!=!1&&r!=null?typeof r=="string"&&e.setAttribute(i,j(r)):r==!1&&e.removeAttribute(i);return e}o(u,"create_element");function p(a){let t=b("http://www.w3.org/2000/svg","svg"),e=b("http://www.w3.org/2000/svg","path");for(let[i,r]of Object.entries(w(a,{})))if(i=="d")e.setAttribute(i,r.toString());else if(i=="style")for(let[n,c]of Object.entries(w(r,{})))t.style[n]=c;else t.setAttribute(i,r.toString());return t.appendChild(e),t}o(p,"create_svg");var E=Object.freeze({"not important":"off",important:"polite",critical:"assertive"});var T=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
<circle cx="50" cy="50" fill="none" stroke="#e15b64" stroke-width="3" r="35" stroke-dasharray="164.93361431346415 56.97787143782138">
  <animateTransform attributeName="transform" type="rotate" repeatCount="indefinite" dur="1s" values="0 50 50;360 50 50" keyTimes="0;1"></animateTransform>
</circle>
<!-- [ldio] generated by https://loading.io/ --></svg>`;var L=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="287px" height="287px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
<g transform="rotate(0 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(30 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(60 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(90 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(120 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(150 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(180 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(210 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(240 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(270 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(300 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(330 50 50)">
  <rect x="47" y="29.5" rx="0" ry="0" width="6" height="1" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate>
  </rect>
</g>
<!-- [ldio] generated by https://loading.io/ --></svg>`;var O=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="287px" height="287px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
<g transform="rotate(0 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(30 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(60 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(90 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(120 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(150 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(180 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(210 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(240 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(270 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(300 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(330 50 50)">
  <rect x="47" y="24" rx="3" ry="6" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate>
  </rect>
</g>
<!-- [ldio] generated by https://loading.io/ --></svg>`;var P=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="287px" height="287px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
<g transform="rotate(0 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(30 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(60 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(90 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(120 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(150 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(180 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(210 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(240 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(270 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(300 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>
  </rect>
</g><g transform="rotate(330 50 50)">
  <rect x="47" y="24" rx="0" ry="0" width="6" height="12" fill="#fe718d">
    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate>
  </rect>
</g>
<!-- [ldio] generated by https://loading.io/ --></svg>`;var z=`<?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="margin: auto; display: block; shape-rendering: auto;" width="200px" height="200px" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid">
<path d="M10 50A40 40 0 0 0 90 50A40 42 0 0 1 10 50" fill="#e15b64" stroke="none">
  <animateTransform attributeName="transform" type="rotate" dur="1s" repeatCount="indefinite" keyTimes="0;1" values="0 50 51;360 50 51"></animateTransform>
</path>
<!-- [ldio] generated by https://loading.io/ --></svg>`;var g={xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",width:"20",height:"20","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 20 20",style:{width:"1rem",height:"1rem"}};function G(){return p({...g,d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z"})}o(G,"warning_icon");function V(){return p({...g,d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z"})}o(V,"info_icon");function U(){return p({...g,d:"M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"})}o(U,"success_icon");function F(){return p({...g,d:"M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"})}o(F,"error_icon");function Y(a="normal"){let t=u("div",{style:{width:"100%",height:"100%"}});switch(a){case"normal":t.innerHTML=T;break;case"broken-flat":t.innerHTML=L;break;case"broken-rounded":t.innerHTML=O;break;case"broken-straight":t.innerHTML=P;break;case"eclipse":t.innerHTML=z;break;default:t.innerHTML=T}return t}o(Y,"loading_icon");function y(a,t){switch(a){case"error":return F();case"info":return V();case"loading":return Y(t);case"success":return U();case"warn":return G()}}o(y,"get_icon");var _=12,X=3,x=class{static{o(this,"Toast")}id;props;options;is_dismissed;type;idx;z_index;initial_height;offset;created_on;src_element;constructor(t,e,i,r,n,c,d){if(!s("toast-container")){console.error(new Error("Please mount the toast container first."));return}if(this.src_element=null,this.id=t,this.props=e,this.options=i,this.is_dismissed=r,this.type=n,this.idx=c,this.z_index=d,this.created_on=Date.now(),s("toast-container")){this.append_to_dom();let{packed_size:m,original_height:h}=S(this.src_element);s("toast-container").style.setProperty("--front-toast-height",m+"px"),this.src_element.style.setProperty("--toast-initial-height",m+"px"),this.initial_height=m,this.src_element.style.height=h,this.offset=0}}append_to_dom=()=>{let t=u("li",{dir:this.options.dir.toString(),"data-front-toast":!0,"data-vanilla-toast":!0,"data-dismissed":"false","data-theme":this.options.theme,"data-style":this.options.style,"data-type":this.type,id:`toast-${this.id}`,"aria-live":E[this.options.importance],"aria-atomic":!0,style:{"--toast-index":this.idx+"","--z-index":this.z_index+"","--toast-transition-duration":this.options.animation_duration+"ms","--toast-gap":_+"px","--toast-offset":"0px"}}),e=u("div",{"data-close-button-container":"true","data-position":this.options.close_button.position,"data-show-on-hover":this.options.close_button.is_shown_on_hover+""}),i=u("button",{type:"button",id:`close-toast-${this.id}`,"data-close-button":"true","aria-controls":`toast-${this.id}`,"aria-pressed":"false","aria-label":"Close Notification Toast"}),r=u("div",{"data-text-container":"true"}),n=u("p",{textContent:this.props.message,id:`message-toast-${this.id}`}),c=new AbortController,d=c.signal;if(l.aborters.set(`toast-${this.id}`,c),this.src_element=t,i.addEventListener("click",()=>{s(`close-toast-${this.id}`).setAttribute("aria-pressed","true"),l.dismiss(this.id)},{once:!0,signal:d}),this.type!="neutral"){let m=y(this.type,this.options.loading_icon),h=u("div",{"data-icon-container":"true",id:`icon-toast-${this.id}`});h.appendChild(m),this.src_element.append(h)}if(this.props.title){let m=u("h6",{textContent:this.props.title,id:`title-toast-${this.id}`,"data-title":"true"});r.append(m)}r.append(n),e.appendChild(i),this.src_element.append(r),this.src_element.append(e),s("toast-container").append(this.src_element),setTimeout(()=>{this.src_element.setAttribute("data-mounted","true")})};update_offset=()=>{this.src_element.style.setProperty("--toast-offset",this.offset+"px")};animate_out=()=>{this.src_element.setAttribute("data-dismissed",this.is_dismissed+"")};update_idx=()=>{this.idx>=X?(this.src_element.style.setProperty("--toast-opacity","0"),this.src_element.setAttribute("aria-hidden","true")):this.is_dismissed||(this.src_element.style.setProperty("--toast-opacity","1"),this.src_element.setAttribute("aria-hidden","false")),this.idx==0&&(s("toast-container").style.setProperty("--front-toast-height",this.initial_height+"px"),s("toast-"+this.id).setAttribute("data-front-toast","true")),this.src_element.style.setProperty("--toast-index",this.idx+""),this.src_element.style.setProperty("--z-index",this.z_index+"")}};var k="abcdefghijklmnopqrstuvwxyz0123456789";function I(a=8){if(a<6)throw new Error("Please provide a string length that's greater than 6");if(a>16)throw new Error("Please provide a string length that's less than 16");let t="";for(let e=0;e<a;++e){let i=Math.floor(Math.random()*(k.length-1));Math.random()<.5?t+=k[i].toUpperCase():t+=k[i]}return t}o(I,"gen_random_id");var C=class{static{o(this,"Store")}toasts;listeners;timers;listeners_length;aborters;constructor(){this.listeners_length=0,this.timers=new Map,this.toasts=new Map,this.listeners=new Map,this.aborters=new Map}listen=t=>{let e=this.listeners_length++;return this.listeners.set(e,t),o(()=>{this.listeners_length--,this.listeners.delete(e)},"cleanup")};update=(t,e)=>{for(let i of this.listeners.values())i(t,e)};create=(t,e,i="neutral")=>{let r=I();e=$(i,e);let n=this.toasts.size,c=new x(r,t,e,!1,i,0,n);if(this.toasts.set(r,c),this.update(c,"add"),e.automatically_close){let d=setTimeout(()=>{this.dismiss(r)},e.lifetime-e.animation_duration);this.timers.set(`toast-${r}`,d)}return{toast_id:r}};dismiss=t=>{let e=this.toasts.get(t);e||console.error(new Error("Tried to remove a toast that does not exist!")),e.is_dismissed=!0;let i=setTimeout(()=>{this.$remove_toast(t)},e.options.animation_duration);this.timers.set(`toast-animation-${t}`,i),this.toasts.delete(t),this.update(e,"remove"),this.update(e,"animate-out")};add_timer=(t,e,i)=>{let r=this.toasts.get(t);if(r){let n=setTimeout(()=>{this.dismiss(t)},e);i?r.created_on=i:r.created_on=Date.now()-r.created_on,this.timers.set(`toast-${t}`,n)}};remove_timer=t=>{let e=`toast-${t}`,i=`toast-animation-${t}`,r=this.timers.get(e),n=this.timers.get(i);clearTimeout(r),clearTimeout(n),this.timers.delete(e),this.timers.delete(i)};update_toast=(t,e,i="neutral",r)=>{if(!t)return;let n=this.toasts.get(t);if(n){if(n.options.automatically_close=!0,n.props.message=e.message,s(`message-toast-${t}`).textContent=e.message,s(`toast-${t}`).setAttribute("data-type",i),n.props.title&&(n.props.title=e.title,s(`title-toast-${t}`).textContent=e.title),(!r||r.automatically_close==null||i!="loading")&&n.options.automatically_close==!0,n.options.automatically_close&&i!="loading"&&n.type=="loading"&&this.add_timer(t,n.options.lifetime,Date.now()),n.type!="neutral"&&i=="neutral"){let c=s(`icon-toast-${t}`);c&&s(`toast-${t}`).removeChild(c)}if(n.type!=i){let c=s(`icon-toast-${t}`);c&&s(`toast-${t}`).removeChild(c);let d=y(i,r?.loading_icon||"normal");s(`toast-${t}`).prepend(d)}}};$remove_toast=t=>{let e=s(`toast-${t}`);s("toast-container").removeChild(e),this.remove_timer(t);let i=this.aborters.get(`toast-${t}`);i&&i.abort(),this.aborters.delete(`toast-${t}`)}},l=new C;function N(a){return[...l.toasts.values()].reduce((t,e,i)=>i<=a.z_index?t:t+e.initial_height,0)}o(N,"calculate_total_height_of_previous_toasts");function M(a,t,e){return Math.floor(a*t+e)}o(M,"calculate_toast_offset");function S(a){let t=a.style.height;a.style.height="auto";let e=a.getBoundingClientRect().height;return{original_height:t,packed_size:e}}o(S,"get_height");l.listen((a,t)=>{if(t=="add")for(let e of l.toasts.values()){if(a.id==e.id)continue;s("toast-"+e.id).setAttribute("data-front-toast","false");let i=N(e),r=M(++e.idx,_,i);e.offset=r,e.update_idx(),e.update_offset()}else if(t=="animate-out")a.animate_out();else if(t=="remove"){for(let e of l.toasts.values())if(s("toast-"+e.id).setAttribute("data-front-toast","false"),a.idx>e.idx&&(--e.z_index,e.update_idx()),a.idx<e.idx){let i=N(e),r=M(--e.idx,_,i);e.offset=r,e.update_idx(),e.update_offset()}}});function H(){let a=!1,t=[],e=[];window.addEventListener("keydown",d=>{d.altKey?(d.key=="t"||d.key=="T")&&!a&&(a=!0,n(r),s("toast-container").setAttribute("data-expanded","true")):a&&d.key=="Escape"&&(a=!1,n(i),s("toast-container").setAttribute("data-expanded","false"))}),s("toast-container").addEventListener("pointerenter",()=>{a||(n(r),a=!0,s("toast-container").setAttribute("data-expanded","true"))}),s("toast-container").addEventListener("pointerleave",()=>{a&&(n(i),a=!1,s("toast-container").setAttribute("data-expanded","false"))});function i(){for(let d=t.length-1;d>=0;--d){let m=t[d];l.add_timer(m.toast_id,m.time_left,m.removed_on),t.pop()}}o(i,"add_timers");function r(){for(let d of l.toasts.values())if(d.options.automatically_close){let m=d.options.lifetime-(Date.now()-d.created_on);m>=d.options.animation_duration&&(l.remove_timer(d.id),t.push({toast_id:d.id,time_left:m,removed_on:Date.now()}))}}o(r,"remove_timers");function n(d){e.push(d),c()}o(n,"enqueue");function c(){let d=e.shift();d&&d()}o(c,"process_queue")}o(H,"listen_to_page_events");function K(a){if(s("toast-section-container"))return;let e=u("section",{"aria-label":"Notifcations (Alt + T). Escape to unexpand.","data-toast-section-container":"true","data-testid":"toast-section-container",id:"toast-section-container"}),i=u("ol",{"data-expanded":a?.is_expanded_by_default!=null?a.is_expanded_by_default+"":"false","data-position-x":a?.position?.x||v.x,"data-position-y":a?.position?.y||v.y,"data-toast-container":"true","data-testid":"container",id:"toast-container","aria-describedby":"toast-section-heading"}),r=u("h6",{id:"toast-section-heading",textContent:"A section of notifications"});e.append(r),e.append(i),document.body.append(e),a?.is_expanded_by_default||H()}o(K,"mount_toaster");var J={default:l.create,success(a,t){return l.create(a,t,"success")},error(a,t){return l.create(a,t,"error")},info(a,t){return l.create(a,t,"info")},warn(a,t){return l.create(a,t,"warn")},loading(a,t){return l.create(a,t,"loading")},async promise(a,...t){let{toast_id:e}=J.loading({message:"Loading..."});try{let i=await a(...t);return l.update_toast(e,{message:"Success!"},"success"),i}catch(i){return console.error(i),l.update_toast(e,{message:"Something went wrong!"},"error"),i}},dismiss:l.dismiss};export{K as mount_toaster,J as toast};
//# sourceMappingURL=index.min.mjs.map
